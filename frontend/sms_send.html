<!DOCTYPE html>
<html>
<head>
  <title>CSV Data Importer</title>

  
<link
 
rel="stylesheet"
 
href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css">

  
<script
 
src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.7/css/jquery.dataTables.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.4/papaparse.min.js"></script>
</head>
<body>
  <button id="import-button">Import CSV File</button>
  <table id="datatable"></table>
  <input type="file" id="file-input" style="display: none;" />

  <script>
    $(document).ready(function() {
      $("#import-button").click(function() {
        $("#file-input").click();
      });

      $("#file-input").change(function() {
        var file = this.files[0];
        var reader = new FileReader();

        reader.onload = function(e) {
          var data = e.target.result;
          // Check data type here if needed
          console.log(typeof data); // Should be "string" for CSV

          var parsedData = Papa.parse(data, { header: true });

          $("#datatable").DataTable({
            data: parsedData.data,
            columns: parsedData.meta.fields
          });
        };

        reader.readAsText(file); // Ensure using readAsText() for CSV
      });
    });
  </script>
</body>
</html>